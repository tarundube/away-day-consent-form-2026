<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Techverito – Away Day Consent</title>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'DM Sans', sans-serif;
      background: #f7f6f2;
      min-height: 100vh;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 40px 16px;
    }
    .page {
      background: #fff;
      width: 100%;
      max-width: 680px;
      border: 1px solid #e2e0d8;
      box-shadow: 0 2px 40px rgba(0,0,0,0.07);
    }
    .header {
      background: #1a1a2e;
      padding: 28px 48px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .logo-svg { height: 52px; width: 52px; }
    .header-title { text-align: right; }
    .header-title h2 {
      font-family: 'DM Serif Display', serif;
      font-size: 20px;
      color: #fff;
      font-weight: 400;
    }
    .header-title p {
      font-size: 11px;
      color: #a0a8c0;
      margin-top: 3px;
      letter-spacing: 0.5px;
    }
    .body { padding: 48px; }
    .letter-subject {
      font-size: 13px;
      font-weight: 600;
      color: #1a1a2e;
      text-align: center;
      letter-spacing: 0.3px;
      margin-bottom: 28px;
      padding-bottom: 20px;
      border-bottom: 1px solid #e8e6df;
    }
    .dear { font-size: 14px; color: #333; margin-bottom: 20px; }
    .letter-para {
      font-size: 14px;
      color: #333;
      line-height: 1.85;
      margin-bottom: 18px;
      text-align: justify;
    }
    .field-inline {
      display: inline-block;
      border: none;
      border-bottom: 1.5px solid #1a1a2e;
      background: transparent;
      font-family: 'DM Sans', sans-serif;
      font-size: 14px;
      color: #1a1a2e;
      font-weight: 500;
      padding: 0 4px 1px;
      outline: none;
      min-width: 60px;
      transition: border-color 0.2s;
    }
    .field-inline:focus { border-color: #4a6cf7; }
    .field-inline.wide { min-width: 180px; }
    .field-inline.med  { min-width: 100px; }
    .highlight { font-weight: 600; color: #1a1a2e; }
    .divider { border: none; border-top: 1px solid #e8e6df; margin: 28px 0; }
    .sig-label {
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: #888;
      margin-bottom: 8px;
    }
    .sig-wrapper {
      border: 1px solid #d8d6cf;
      background: #fafaf8;
    }
    .sig-toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 12px;
      border-bottom: 1px solid #e2e0d8;
      background: #f2f0eb;
    }
    .sig-toolbar span { font-size: 11px; color: #999; letter-spacing: 0.3px; }
    .sig-toolbar button {
      background: none; border: none;
      font-size: 11px; font-weight: 600;
      color: #c0392b; cursor: pointer;
      font-family: 'DM Sans', sans-serif;
    }
    canvas {
      display: block; width: 100%;
      height: 120px; cursor: crosshair; touch-action: none;
    }
    .sign-fields {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 20px; margin-top: 20px;
    }
    .sign-field label {
      display: block; font-size: 11px;
      font-weight: 600; letter-spacing: 0.8px;
      text-transform: uppercase; color: #999; margin-bottom: 6px;
    }
    .sign-field input {
      width: 100%; border: none;
      border-bottom: 1.5px solid #ccc;
      background: transparent;
      font-family: 'DM Sans', sans-serif;
      font-size: 13px; color: #1a1a2e;
      padding: 4px 0; outline: none;
      transition: border-color 0.2s;
    }
    .sign-field input:focus { border-color: #1a1a2e; }
    .submit-wrap { margin-top: 36px; text-align: center; }
    .btn-submit {
      background: #1a1a2e;
      color: #fff; border: none;
      font-family: 'DM Sans', sans-serif;
      font-size: 13px; font-weight: 600;
      letter-spacing: 1px; text-transform: uppercase;
      padding: 14px 52px; cursor: pointer;
      transition: background 0.2s, transform 0.1s;
    }
    .btn-submit:hover { background: #2d2d50; }
    .btn-submit:active { transform: scale(0.98); }
    .btn-submit:disabled { background: #aaa; cursor: default; }
    .success {
      display: none; margin-top: 24px;
      background: #f0faf4; border: 1px solid #a8d5b5;
      padding: 18px 24px; text-align: center;
    }
    .success strong { display: block; font-size: 15px; color: #2d6a4f; margin-bottom: 4px; }
    .success span { font-size: 12px; color: #52796f; }
    .footer {
      background: #f2f0eb;
      border-top: 1px solid #e2e0d8;
      padding: 14px 48px;
      display: flex; justify-content: space-between;
      font-size: 10px; color: #bbb; letter-spacing: 0.3px;
    }
    @media (max-width: 600px) {
      .body { padding: 28px 24px; }
      .header { padding: 24px; flex-wrap: wrap; gap: 12px; }
      .sign-fields { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
<div class="page">

  <div class="header">
    <img src="data:image/png;base64,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" alt="Techverito" style="height:52px;width:52px;object-fit:contain;mix-blend-mode:screen;"/>
    <div class="header-title">
      <h2>Away Day Consent Form</h2>
    </div>
  </div>

  <div class="body">
    <div class="letter-subject">Subject: Self Consent Form</div>

    <div class="letter-para">
      I <input class="field-inline wide" id="fullName" placeholder="Full Name"/>
      with Employee ID <input class="field-inline med" id="empId" placeholder="0000"/>
      working in Techverito residing at
      <input class="field-inline wide" id="address" placeholder="Your address"/>.
    </div>

    <div class="letter-para">
      I give my consent to participate in the Away Day from
      <span class="highlight">27th February 2026 to 3rd March 2026</span>,
      organised by Techverito.
    </div>

    <div class="letter-para">
      I have provided signed consent below that I am travelling on my own consent as part of the group.
    </div>

    <div class="letter-para">
      I understand and acknowledge that Techverito shall not be held responsible or liable for any loss,
      damage, injury, illness, accident, or mishap that may occur during the Away Day. I am solely
      responsible for my personal safety, personal belongings, and personal well-being throughout
      the duration of the event.
    </div>

    <div class="letter-para">
      I have no known medical conditions that may affect my participation, and I grant permission
      to seek emergency medical help in the event of an accident or unforeseen health crisis.
    </div>

    <div class="letter-para">
      Please accept this letter as my official approval to participate under the conditions specified.
    </div>

    <div class="letter-para">Thank you for your consideration,</div>

    <hr class="divider"/>

    <div class="sig-label">Electronic Signature</div>
    <div class="sig-wrapper">
      <div class="sig-toolbar">
        <span>Sign here using mouse or touch</span>
        <button onclick="clearSig()">✕ Clear</button>
      </div>
      <canvas id="sigCanvas" width="1200" height="120"></canvas>
    </div>

    <div class="sign-fields">
      <div class="sign-field">
        <label>Name</label>
        <input type="text" id="sigName" placeholder="Full name"/>
      </div>
      <div class="sign-field">
        <label>Employee ID</label>
        <input type="text" id="sigEmpId" placeholder="0000"/>
      </div>
      <div class="sign-field">
        <label>Date</label>
        <input type="date" id="sigDate"/>
      </div>
    </div>

    <div class="submit-wrap">
      <button class="btn-submit" onclick="submitForm()">Submit &amp; Download PDF</button>
      <div class="success" id="successBox">
        <strong>✓ Consent Submitted – PDF Downloaded!</strong>
        <span>Reference ID: <b id="refId"></b> — Please attach the downloaded PDF to the Google Form.</span>
      </div>
    </div>
  </div>

  <div class="footer">
    <span>Techverito</span>
    <span>Confidential – Internal Use Only</span>
  </div>
</div>

<script>
  document.getElementById('sigDate').valueAsDate = new Date();

  const canvas = document.getElementById('sigCanvas');
  const ctx = canvas.getContext('2d');
  let drawing = false;
  ctx.strokeStyle = '#1a1a2e';
  ctx.lineWidth = 2.5;
  ctx.lineCap = 'round';
  ctx.lineJoin = 'round';

  function getPos(e) {
    const r = canvas.getBoundingClientRect();
    const scaleX = canvas.width / r.width;
    const scaleY = canvas.height / r.height;
    const src = e.touches ? e.touches[0] : e;
    return { x: (src.clientX - r.left) * scaleX, y: (src.clientY - r.top) * scaleY };
  }

  canvas.addEventListener('mousedown', e => { drawing = true; const p = getPos(e); ctx.beginPath(); ctx.moveTo(p.x, p.y); });
  canvas.addEventListener('mousemove', e => { if (!drawing) return; const p = getPos(e); ctx.lineTo(p.x, p.y); ctx.stroke(); });
  canvas.addEventListener('mouseup', () => drawing = false);
  canvas.addEventListener('mouseleave', () => drawing = false);
  canvas.addEventListener('touchstart', e => { e.preventDefault(); drawing = true; const p = getPos(e); ctx.beginPath(); ctx.moveTo(p.x, p.y); });
  canvas.addEventListener('touchmove', e => { e.preventDefault(); if (!drawing) return; const p = getPos(e); ctx.lineTo(p.x, p.y); ctx.stroke(); });
  canvas.addEventListener('touchend', () => drawing = false);

  function clearSig() { ctx.clearRect(0, 0, canvas.width, canvas.height); }
  function isSigned() { return ctx.getImageData(0, 0, canvas.width, canvas.height).data.some(v => v !== 0); }

  function submitForm() {
    const name     = document.getElementById('fullName').value.trim();
    const empId    = document.getElementById('empId').value.trim();
    const address  = document.getElementById('address').value.trim();
    const sigName  = document.getElementById('sigName').value.trim();
    const sigEmpId = document.getElementById('sigEmpId').value.trim();
    const dateVal  = document.getElementById('sigDate').value;

    if (!name || !empId) { alert('Please fill in your name and Employee ID.'); return; }
    if (!sigName || !dateVal) { alert('Please complete the signature fields.'); return; }
    if (!isSigned()) { alert('Please draw your signature before submitting.'); return; }

    const refId = 'TV' + Date.now().toString(36).toUpperCase();
    generatePDF(name, empId, address, sigName, sigEmpId, dateVal, refId);

    document.getElementById('refId').textContent = refId;
    document.getElementById('successBox').style.display = 'block';
    document.querySelector('.btn-submit').disabled = true;
    document.getElementById('successBox').scrollIntoView({ behavior: 'smooth' });
  }

  function generatePDF(name, empId, address, sigName, sigEmpId, dateVal, refId) {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF({ unit: 'mm', format: 'a4' });
    const W = 210, ML = 25, MR = 25, TW = W - ML - MR;
    let y = 0;

    doc.setFillColor(26, 26, 46);
    doc.rect(0, 0, W, 28, 'F');
    doc.setFont('helvetica', 'bold');
    doc.setFontSize(16);
    doc.setTextColor(255, 255, 255);
    doc.text('Techverito', ML, 12);
    doc.setFontSize(11);
    doc.setFont('helvetica', 'normal');
    doc.setTextColor(160, 168, 192);
    doc.text('Away Day Consent Form', W - MR, 18, { align: 'right' });

    y = 38;

    doc.setFont('helvetica', 'bold');
    doc.setFontSize(11);
    doc.setTextColor(26, 26, 46);
    doc.text('Subject: Self Consent Form', W / 2, y, { align: 'center' });
    y += 3;
    doc.setDrawColor(220, 218, 210);
    doc.line(ML, y, W - MR, y);
    y += 8;

    const bodyText = (text) => {
      doc.setFont('helvetica', 'normal');
      doc.setFontSize(10.5);
      doc.setTextColor(51, 51, 51);
      const lines = doc.splitTextToSize(text, TW);
      doc.text(lines, ML, y);
      y += lines.length * 5.5 + 4;
    };

    y += 1;
    bodyText('I ' + name + ' with Employee ID ' + empId + ' working in Techverito' + (address ? ' residing at ' + address : '') + '.');
    bodyText('I give my consent to participate in the Away Day from 27th February 2026 to 3rd March 2026, organised by Techverito.');
    bodyText('I have provided signed consent below that I am travelling on my own consent as part of the group.');
    bodyText('I understand and acknowledge that Techverito shall not be held responsible or liable for any loss, damage, injury, illness, accident, or mishap that may occur during the Away Day. I am solely responsible for my personal safety, personal belongings, and personal well-being throughout the duration of the event.');
    bodyText('I have no known medical conditions that may affect my participation, and I grant permission to seek emergency medical help in the event of an accident or unforeseen health crisis.');
    bodyText('Please accept this letter as my official approval to participate under the conditions specified.');
    bodyText('Thank you for your consideration,');
    y += 4;

    doc.setDrawColor(220, 218, 210);
    doc.line(ML, y, W - MR, y);
    y += 7;

    doc.setFont('helvetica', 'bold');
    doc.setFontSize(8);
    doc.setTextColor(140, 140, 140);
    doc.text('ELECTRONIC SIGNATURE', ML, y);
    y += 5;

    const sigDataUrl = canvas.toDataURL('image/png');
    const sigBoxH = 22;
    doc.setDrawColor(200, 198, 190);
    doc.setFillColor(250, 250, 248);
    doc.rect(ML, y, TW, sigBoxH, 'FD');
    doc.addImage(sigDataUrl, 'PNG', ML + 2, y + 1, TW - 4, sigBoxH - 2);
    y += sigBoxH + 8;

    const formattedDate = dateVal ? new Date(dateVal + 'T00:00:00').toLocaleDateString('en-GB', { day:'2-digit', month:'short', year:'numeric' }) : '';
    doc.setFont('helvetica', 'bold');
    doc.setFontSize(8);
    doc.setTextColor(140, 140, 140);
    doc.text('NAME', ML, y);
    doc.text('EMPLOYEE ID', ML + TW/3, y);
    doc.text('DATE', ML + (TW/3)*2, y);
    y += 5;
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(10.5);
    doc.setTextColor(26, 26, 46);
    doc.text(sigName || '', ML, y);
    doc.text(sigEmpId || empId, ML + TW/3, y);
    doc.text(formattedDate, ML + (TW/3)*2, y);
    y += 3;
    doc.setDrawColor(180, 180, 180);
    doc.line(ML, y, ML + TW/3 - 4, y);
    doc.line(ML + TW/3, y, ML + (TW/3)*2 - 4, y);
    doc.line(ML + (TW/3)*2, y, ML + TW, y);
    y += 10;

    doc.setFont('helvetica', 'italic');
    doc.setFontSize(8);
    doc.setTextColor(160, 160, 160);
    doc.text('Reference ID: ' + refId, W / 2, y, { align: 'center' });

    doc.setFillColor(242, 240, 235);
    doc.rect(0, 285, W, 12, 'F');
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(8);
    doc.setTextColor(180, 180, 180);
    doc.text('Techverito', ML, 292);
    doc.text('Confidential – Internal Use Only', W - MR, 292, { align: 'right' });

    doc.save('Techverito_AwayDay_Consent_' + name.replace(/\s+/g, '_') + '.pdf');
  }
</script>
</body>
</html>
